(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(i){if(i.ep)return;i.ep=!0;const u=e(i);fetch(i.href,u)}})();function Jt(){}function zr(t){return t()}function qe(){return Object.create(null)}function on(t){t.forEach(zr)}function qr(t){return typeof t=="function"}function Dr(t,n){return t!=t?n==n:t!==n||t&&typeof t=="object"||typeof t=="function"}function Bi(t){return Object.keys(t).length===0}function F(t,n){t.appendChild(n)}function mt(t,n,e){t.insertBefore(n,e||null)}function pt(t){t.parentNode&&t.parentNode.removeChild(t)}function Xr(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function U(t){return document.createElement(t)}function Yi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function it(t){return document.createTextNode(t)}function st(){return it(" ")}function Vi(){return it("")}function Gi(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function tt(t,n,e){e==null?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function Ki(t,n,e){const r=new Set;for(let i=0;i<t.length;i+=1)t[i].checked&&r.add(t[i].__value);return e||r.delete(n),Array.from(r)}function Ui(t){let n;return{p(...e){n=e,n.forEach(r=>t.push(r))},r(){n.forEach(e=>t.splice(t.indexOf(e),1))}}}function Ji(t){return Array.from(t.childNodes)}function bn(t,n){n=""+n,t.data!==n&&(t.data=n)}function V(t,n,e,r){e===null?t.style.removeProperty(n):t.style.setProperty(n,e,r?"important":"")}let Wt;function Kt(t){Wt=t}function Wi(){if(!Wt)throw new Error("Function called outside component initialization");return Wt}function Qi(t){Wi().$$.on_mount.push(t)}const Nt=[],jn=[];let Ct=[];const te=[],ji=Promise.resolve();let ne=!1;function to(){ne||(ne=!0,ji.then(Hr))}function ee(t){Ct.push(t)}function no(t){te.push(t)}const Vn=new Set;let Mt=0;function Hr(){if(Mt!==0)return;const t=Wt;do{try{for(;Mt<Nt.length;){const n=Nt[Mt];Mt++,Kt(n),eo(n.$$)}}catch(n){throw Nt.length=0,Mt=0,n}for(Kt(null),Nt.length=0,Mt=0;jn.length;)jn.pop()();for(let n=0;n<Ct.length;n+=1){const e=Ct[n];Vn.has(e)||(Vn.add(e),e())}Ct.length=0}while(Nt.length);for(;te.length;)te.pop()();ne=!1,Vn.clear(),Kt(t)}function eo(t){if(t.fragment!==null){t.update(),on(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(ee)}}function ro(t){const n=[],e=[];Ct.forEach(r=>t.indexOf(r)===-1?n.push(r):e.push(r)),e.forEach(r=>r()),Ct=n}const _n=new Set;let vt;function io(){vt={r:0,c:[],p:vt}}function oo(){vt.r||on(vt.c),vt=vt.p}function Ut(t,n){t&&t.i&&(_n.delete(t),t.i(n))}function re(t,n,e,r){if(t&&t.o){if(_n.has(t))return;_n.add(t),vt.c.push(()=>{_n.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}else r&&r()}function uo(t,n,e){const r=t.$$.props[n];r!==void 0&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function ao(t){t&&t.c()}function Zr(t,n,e,r){const{fragment:i,after_update:u}=t.$$;i&&i.m(n,e),r||ee(()=>{const o=t.$$.on_mount.map(zr).filter(qr);t.$$.on_destroy?t.$$.on_destroy.push(...o):on(o),t.$$.on_mount=[]}),u.forEach(ee)}function Br(t,n){const e=t.$$;e.fragment!==null&&(ro(e.after_update),on(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function fo(t,n){t.$$.dirty[0]===-1&&(Nt.push(t),to(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function Yr(t,n,e,r,i,u,o,a=[-1]){const c=Wt;Kt(t);const f=t.$$={fragment:null,ctx:[],props:u,update:Jt,not_equal:i,bound:qe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(c?c.$$.context:[])),callbacks:qe(),dirty:a,skip_bound:!1,root:n.target||c.$$.root};o&&o(f.root);let l=!1;if(f.ctx=e?e(t,n.props||{},(s,h,...p)=>{const d=p.length?p[0]:h;return f.ctx&&i(f.ctx[s],f.ctx[s]=d)&&(!f.skip_bound&&f.bound[s]&&f.bound[s](d),l&&fo(t,s)),h}):[],f.update(),l=!0,on(f.before_update),f.fragment=r?r(f.ctx):!1,n.target){if(n.hydrate){const s=Ji(n.target);f.fragment&&f.fragment.l(s),s.forEach(pt)}else f.fragment&&f.fragment.c();n.intro&&Ut(t.$$.fragment),Zr(t,n.target,n.anchor,n.customElement),Hr()}Kt(c)}class Vr{$destroy(){Br(this,1),this.$destroy=Jt}$on(n,e){if(!qr(e))return Jt;const r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(e),()=>{const i=r.indexOf(e);i!==-1&&r.splice(i,1)}}$set(n){this.$$set&&!Bi(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}function De(t,n,e){const r=t.slice();return r[5]=n[e],r[7]=e,r}function Xe(t){let n,e,r,i,u=!1,o,a,c=t[5]+"",f,l,s=t[2][t[7]]+"",h,p,d,m,g,w;return m=Ui(t[4][0]),{c(){n=U("label"),e=U("div"),r=U("input"),o=st(),a=U("label"),f=it(c),l=it(" ("),h=it(s),p=it(")"),d=st(),tt(r,"id","default-checkbox-"+t[7]),tt(r,"type","checkbox"),r.__value=i=t[5],r.value=r.__value,tt(r,"class","w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"),tt(a,"for","default-checkbox-"+t[7]),tt(a,"class","ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"),tt(e,"class","flex items-center mb-4"),m.p(r)},m(y,_){mt(y,n,_),F(n,e),F(e,r),r.checked=~(t[0]||[]).indexOf(r.__value),F(e,o),F(e,a),F(a,f),F(a,l),F(a,h),F(a,p),F(n,d),g||(w=Gi(r,"change",t[3]),g=!0)},p(y,_){_&2&&i!==(i=y[5])&&(r.__value=i,r.value=r.__value,u=!0),(u||_&3)&&(r.checked=~(y[0]||[]).indexOf(r.__value)),_&2&&c!==(c=y[5]+"")&&bn(f,c),_&4&&s!==(s=y[2][y[7]]+"")&&bn(h,s)},d(y){y&&pt(n),m.r(),g=!1,w()}}}function lo(t){let n,e=t[1],r=[];for(let i=0;i<e.length;i+=1)r[i]=Xe(De(t,e,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();n=Vi()},m(i,u){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,u);mt(i,n,u)},p(i,[u]){if(u&7){e=i[1];let o;for(o=0;o<e.length;o+=1){const a=De(i,e,o);r[o]?r[o].p(a,u):(r[o]=Xe(a),r[o].c(),r[o].m(n.parentNode,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=e.length}},i:Jt,o:Jt,d(i){Xr(r,i),i&&pt(n)}}}function so(t,n,e){let{value:r}=n,{labels:i}=n,{counts:u}=n;const o=[[]];function a(){r=Ki(o[0],this.__value,this.checked),e(0,r)}return t.$$set=c=>{"value"in c&&e(0,r=c.value),"labels"in c&&e(1,i=c.labels),"counts"in c&&e(2,u=c.counts)},[r,i,u,a,o]}class co extends Vr{constructor(n){super(),Yr(this,n,so,lo,Dr,{value:0,labels:1,counts:2})}}function He(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function*ho(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}class wt{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const u=e[i],o=n+u,a=Math.abs(n)<Math.abs(u)?n-(o-u):u-(o-n);a&&(e[r++]=a),n=o}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,u,o=0;if(e>0){for(o=n[--e];e>0&&(r=o,i=n[--e],o=r+i,u=i-(o-r),!u););e>0&&(u<0&&n[e-1]<0||u>0&&n[e-1]>0)&&(i=u*2,r=o+i,i==r-o&&(o=r))}return o}}function po(t=He){if(t===He)return Gr;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function Gr(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}const go=Math.sqrt(50),vo=Math.sqrt(10),_o=Math.sqrt(2);function Sn(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),u=r/Math.pow(10,i),o=u>=go?10:u>=vo?5:u>=_o?2:1;let a,c,f;return i<0?(f=Math.pow(10,-i)/o,a=Math.round(t*f),c=Math.round(n*f),a/f<t&&++a,c/f>n&&--c,f=-f):(f=Math.pow(10,i)*o,a=Math.round(t/f),c=Math.round(n/f),a*f<t&&++a,c*f>n&&--c),c<a&&.5<=e&&e<2?Sn(t,n,e*2):[a,c,f]}function mo(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,u,o]=r?Sn(n,t,e):Sn(t,n,e);if(!(u>=i))return[];const a=u-i+1,c=new Array(a);if(r)if(o<0)for(let f=0;f<a;++f)c[f]=(u-f)/-o;else for(let f=0;f<a;++f)c[f]=(u-f)*o;else if(o<0)for(let f=0;f<a;++f)c[f]=(i+f)/-o;else for(let f=0;f<a;++f)c[f]=(i+f)*o;return c}function ie(t,n,e){return n=+n,t=+t,e=+e,Sn(t,n,e)[2]}function yo(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?ie(n,t,e):ie(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function oe(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function Ze(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function Kr(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?Gr:po(i);r>e;){if(r-e>600){const c=r-e+1,f=n-e+1,l=Math.log(c),s=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*s*(c-s)/c)*(f-c/2<0?-1:1),p=Math.max(e,Math.floor(n-f*s/c+h)),d=Math.min(r,Math.floor(n+(c-f)*s/c+h));Kr(t,n,p,d,i)}const u=t[n];let o=e,a=r;for(zt(t,e,n),i(t[r],u)>0&&zt(t,e,r);o<a;){for(zt(t,o,a),++o,--a;i(t[o],u)<0;)++o;for(;i(t[a],u)>0;)--a}i(t[e],u)===0?zt(t,e,a):(++a,zt(t,a,r)),a<=n&&(e=a+1),n<=a&&(r=a-1)}return t}function zt(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function wo(t,n,e){if(t=Float64Array.from(ho(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return Ze(t);if(n>=1)return oe(t);var r,i=(r-1)*n,u=Math.floor(i),o=oe(Kr(t,u).subarray(0,u+1)),a=Ze(t.subarray(u+1));return o+(a-o)*(i-u)}}function xo(t,n){return wo(t,.5,n)}function*bo(t){for(const n of t)yield*n}function Ur(t){return Array.from(bo(t))}var So={value:()=>{}};function Jr(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new mn(e)}function mn(t){this._=t}function Eo(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}mn.prototype=Jr.prototype={constructor:mn,on:function(t,n){var e=this._,r=Eo(t+"",e),i,u=-1,o=r.length;if(arguments.length<2){for(;++u<o;)if((i=(t=r[u]).type)&&(i=Mo(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++u<o;)if(i=(t=r[u]).type)e[i]=Be(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Be(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new mn(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,u;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],r=0,i=u.length;r<i;++r)u[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,u=r.length;i<u;++i)r[i].value.apply(n,e)}};function Mo(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Be(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=So,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var ue="http://www.w3.org/1999/xhtml";const Ye={svg:"http://www.w3.org/2000/svg",xhtml:ue,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Ye.hasOwnProperty(n)?{space:Ye[n],local:t}:t}function ko(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===ue&&n.documentElement.namespaceURI===ue?n.createElement(t):n.createElementNS(e,t)}}function No(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Wr(t){var n=Zn(t);return(n.local?No:ko)(n)}function $o(){}function Ne(t){return t==null?$o:function(){return this.querySelector(t)}}function Ao(t){typeof t!="function"&&(t=Ne(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var u=n[i],o=u.length,a=r[i]=new Array(o),c,f,l=0;l<o;++l)(c=u[l])&&(f=t.call(c,c.__data__,l,u))&&("__data__"in c&&(f.__data__=c.__data__),a[l]=f);return new G(r,this._parents)}function Co(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Po(){return[]}function Qr(t){return t==null?Po:function(){return this.querySelectorAll(t)}}function Ro(t){return function(){return Co(t.apply(this,arguments))}}function To(t){typeof t=="function"?t=Ro(t):t=Qr(t);for(var n=this._groups,e=n.length,r=[],i=[],u=0;u<e;++u)for(var o=n[u],a=o.length,c,f=0;f<a;++f)(c=o[f])&&(r.push(t.call(c,c.__data__,f,o)),i.push(c));return new G(r,i)}function jr(t){return function(){return this.matches(t)}}function ti(t){return function(n){return n.matches(t)}}var Fo=Array.prototype.find;function Io(t){return function(){return Fo.call(this.children,t)}}function Lo(){return this.firstElementChild}function Oo(t){return this.select(t==null?Lo:Io(typeof t=="function"?t:ti(t)))}var zo=Array.prototype.filter;function qo(){return Array.from(this.children)}function Do(t){return function(){return zo.call(this.children,t)}}function Xo(t){return this.selectAll(t==null?qo:Do(typeof t=="function"?t:ti(t)))}function Ho(t){typeof t!="function"&&(t=jr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var u=n[i],o=u.length,a=r[i]=[],c,f=0;f<o;++f)(c=u[f])&&t.call(c,c.__data__,f,u)&&a.push(c);return new G(r,this._parents)}function ni(t){return new Array(t.length)}function Zo(){return new G(this._enter||this._groups.map(ni),this._parents)}function En(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}En.prototype={constructor:En,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Bo(t){return function(){return t}}function Yo(t,n,e,r,i,u){for(var o=0,a,c=n.length,f=u.length;o<f;++o)(a=n[o])?(a.__data__=u[o],r[o]=a):e[o]=new En(t,u[o]);for(;o<c;++o)(a=n[o])&&(i[o]=a)}function Vo(t,n,e,r,i,u,o){var a,c,f=new Map,l=n.length,s=u.length,h=new Array(l),p;for(a=0;a<l;++a)(c=n[a])&&(h[a]=p=o.call(c,c.__data__,a,n)+"",f.has(p)?i[a]=c:f.set(p,c));for(a=0;a<s;++a)p=o.call(t,u[a],a,u)+"",(c=f.get(p))?(r[a]=c,c.__data__=u[a],f.delete(p)):e[a]=new En(t,u[a]);for(a=0;a<l;++a)(c=n[a])&&f.get(h[a])===c&&(i[a]=c)}function Go(t){return t.__data__}function Ko(t,n){if(!arguments.length)return Array.from(this,Go);var e=n?Vo:Yo,r=this._parents,i=this._groups;typeof t!="function"&&(t=Bo(t));for(var u=i.length,o=new Array(u),a=new Array(u),c=new Array(u),f=0;f<u;++f){var l=r[f],s=i[f],h=s.length,p=Uo(t.call(l,l&&l.__data__,f,r)),d=p.length,m=a[f]=new Array(d),g=o[f]=new Array(d),w=c[f]=new Array(h);e(l,s,m,g,w,p,n);for(var y=0,_=0,b,S;y<d;++y)if(b=m[y]){for(y>=_&&(_=y+1);!(S=g[_])&&++_<d;);b._next=S||null}}return o=new G(o,r),o._enter=a,o._exit=c,o}function Uo(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Jo(){return new G(this._exit||this._groups.map(ni),this._parents)}function Wo(t,n,e){var r=this.enter(),i=this,u=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?u.remove():e(u),r&&i?r.merge(i).order():i}function Qo(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,u=r.length,o=Math.min(i,u),a=new Array(i),c=0;c<o;++c)for(var f=e[c],l=r[c],s=f.length,h=a[c]=new Array(s),p,d=0;d<s;++d)(p=f[d]||l[d])&&(h[d]=p);for(;c<i;++c)a[c]=e[c];return new G(a,this._parents)}function jo(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,u=r[i],o;--i>=0;)(o=r[i])&&(u&&o.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(o,u),u=o);return this}function tu(t){t||(t=nu);function n(s,h){return s&&h?t(s.__data__,h.__data__):!s-!h}for(var e=this._groups,r=e.length,i=new Array(r),u=0;u<r;++u){for(var o=e[u],a=o.length,c=i[u]=new Array(a),f,l=0;l<a;++l)(f=o[l])&&(c[l]=f);c.sort(n)}return new G(i,this._parents).order()}function nu(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function eu(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ru(){return Array.from(this)}function iu(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,u=r.length;i<u;++i){var o=r[i];if(o)return o}return null}function ou(){let t=0;for(const n of this)++t;return t}function uu(){return!this.node()}function au(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],u=0,o=i.length,a;u<o;++u)(a=i[u])&&t.call(a,a.__data__,u,i);return this}function fu(t){return function(){this.removeAttribute(t)}}function lu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function su(t,n){return function(){this.setAttribute(t,n)}}function cu(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function hu(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function pu(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function du(t,n){var e=Zn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?lu:fu:typeof n=="function"?e.local?pu:hu:e.local?cu:su)(e,n))}function ei(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function gu(t){return function(){this.style.removeProperty(t)}}function vu(t,n,e){return function(){this.style.setProperty(t,n,e)}}function _u(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function mu(t,n,e){return arguments.length>1?this.each((n==null?gu:typeof n=="function"?_u:vu)(t,n,e??"")):Rt(this.node(),t)}function Rt(t,n){return t.style.getPropertyValue(n)||ei(t).getComputedStyle(t,null).getPropertyValue(n)}function yu(t){return function(){delete this[t]}}function wu(t,n){return function(){this[t]=n}}function xu(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function bu(t,n){return arguments.length>1?this.each((n==null?yu:typeof n=="function"?xu:wu)(t,n)):this.node()[t]}function ri(t){return t.trim().split(/^|\s+/)}function $e(t){return t.classList||new ii(t)}function ii(t){this._node=t,this._names=ri(t.getAttribute("class")||"")}ii.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function oi(t,n){for(var e=$e(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function ui(t,n){for(var e=$e(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Su(t){return function(){oi(this,t)}}function Eu(t){return function(){ui(this,t)}}function Mu(t,n){return function(){(n.apply(this,arguments)?oi:ui)(this,t)}}function ku(t,n){var e=ri(t+"");if(arguments.length<2){for(var r=$e(this.node()),i=-1,u=e.length;++i<u;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Mu:n?Su:Eu)(e,n))}function Nu(){this.textContent=""}function $u(t){return function(){this.textContent=t}}function Au(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Cu(t){return arguments.length?this.each(t==null?Nu:(typeof t=="function"?Au:$u)(t)):this.node().textContent}function Pu(){this.innerHTML=""}function Ru(t){return function(){this.innerHTML=t}}function Tu(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Fu(t){return arguments.length?this.each(t==null?Pu:(typeof t=="function"?Tu:Ru)(t)):this.node().innerHTML}function Iu(){this.nextSibling&&this.parentNode.appendChild(this)}function Lu(){return this.each(Iu)}function Ou(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zu(){return this.each(Ou)}function qu(t){var n=typeof t=="function"?t:Wr(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Du(){return null}function Xu(t,n){var e=typeof t=="function"?t:Wr(t),r=n==null?Du:typeof n=="function"?n:Ne(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Hu(){var t=this.parentNode;t&&t.removeChild(this)}function Zu(){return this.each(Hu)}function Bu(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Yu(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Vu(t){return this.select(t?Yu:Bu)}function Gu(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ku(t){return function(n){t.call(this,n,this.__data__)}}function Uu(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function Ju(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,u;e<i;++e)u=n[e],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):n[++r]=u;++r?n.length=r:delete this.__on}}}function Wu(t,n,e){return function(){var r=this.__on,i,u=Ku(n);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=u,i.options=e),i.value=n;return}}this.addEventListener(t.type,u,e),i={type:t.type,name:t.name,value:n,listener:u,options:e},r?r.push(i):this.__on=[i]}}function Qu(t,n,e){var r=Uu(t+""),i,u=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,f=a.length,l;c<f;++c)for(i=0,l=a[c];i<u;++i)if((o=r[i]).type===l.type&&o.name===l.name)return l.value}return}for(a=n?Wu:Ju,i=0;i<u;++i)this.each(a(r[i],n,e));return this}function ai(t,n,e){var r=ei(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ju(t,n){return function(){return ai(this,t,n)}}function ta(t,n){return function(){return ai(this,t,n.apply(this,arguments))}}function na(t,n){return this.each((typeof n=="function"?ta:ju)(t,n))}function*ea(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,u=r.length,o;i<u;++i)(o=r[i])&&(yield o)}var fi=[null];function G(t,n){this._groups=t,this._parents=n}function un(){return new G([[document.documentElement]],fi)}function ra(){return this}G.prototype=un.prototype={constructor:G,select:Ao,selectAll:To,selectChild:Oo,selectChildren:Xo,filter:Ho,data:Ko,enter:Zo,exit:Jo,join:Wo,merge:Qo,selection:ra,order:jo,sort:tu,call:eu,nodes:ru,node:iu,size:ou,empty:uu,each:au,attr:du,style:mu,property:bu,classed:ku,text:Cu,html:Fu,raise:Lu,lower:zu,append:qu,insert:Xu,remove:Zu,clone:Vu,datum:Gu,on:Qu,dispatch:na,[Symbol.iterator]:ea};function kt(t){return typeof t=="string"?new G([[document.querySelector(t)]],[document.documentElement]):new G([[t]],fi)}function Ae(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function li(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function an(){}var Qt=.7,Mn=1/Qt,Pt="\\s*([+-]?\\d+)\\s*",jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ot="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ia=/^#([0-9a-f]{3,8})$/,oa=new RegExp(`^rgb\\(${Pt},${Pt},${Pt}\\)$`),ua=new RegExp(`^rgb\\(${ot},${ot},${ot}\\)$`),aa=new RegExp(`^rgba\\(${Pt},${Pt},${Pt},${jt}\\)$`),fa=new RegExp(`^rgba\\(${ot},${ot},${ot},${jt}\\)$`),la=new RegExp(`^hsl\\(${jt},${ot},${ot}\\)$`),sa=new RegExp(`^hsla\\(${jt},${ot},${ot},${jt}\\)$`),Ve={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ae(an,dt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ge,formatHex:Ge,formatHex8:ca,formatHsl:ha,formatRgb:Ke,toString:Ke});function Ge(){return this.rgb().formatHex()}function ca(){return this.rgb().formatHex8()}function ha(){return si(this).formatHsl()}function Ke(){return this.rgb().formatRgb()}function dt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=ia.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Ue(n):e===3?new Z(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?ln(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?ln(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=oa.exec(t))?new Z(n[1],n[2],n[3],1):(n=ua.exec(t))?new Z(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=aa.exec(t))?ln(n[1],n[2],n[3],n[4]):(n=fa.exec(t))?ln(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=la.exec(t))?Qe(n[1],n[2]/100,n[3]/100,1):(n=sa.exec(t))?Qe(n[1],n[2]/100,n[3]/100,n[4]):Ve.hasOwnProperty(t)?Ue(Ve[t]):t==="transparent"?new Z(NaN,NaN,NaN,0):null}function Ue(t){return new Z(t>>16&255,t>>8&255,t&255,1)}function ln(t,n,e,r){return r<=0&&(t=n=e=NaN),new Z(t,n,e,r)}function pa(t){return t instanceof an||(t=dt(t)),t?(t=t.rgb(),new Z(t.r,t.g,t.b,t.opacity)):new Z}function kn(t,n,e,r){return arguments.length===1?pa(t):new Z(t,n,e,r??1)}function Z(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Ae(Z,kn,li(an,{brighter(t){return t=t==null?Mn:Math.pow(Mn,t),new Z(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qt:Math.pow(Qt,t),new Z(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Z(yt(this.r),yt(this.g),yt(this.b),Nn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Je,formatHex:Je,formatHex8:da,formatRgb:We,toString:We}));function Je(){return`#${_t(this.r)}${_t(this.g)}${_t(this.b)}`}function da(){return`#${_t(this.r)}${_t(this.g)}${_t(this.b)}${_t((isNaN(this.opacity)?1:this.opacity)*255)}`}function We(){const t=Nn(this.opacity);return`${t===1?"rgb(":"rgba("}${yt(this.r)}, ${yt(this.g)}, ${yt(this.b)}${t===1?")":`, ${t})`}`}function Nn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _t(t){return t=yt(t),(t<16?"0":"")+t.toString(16)}function Qe(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new W(t,n,e,r)}function si(t){if(t instanceof W)return new W(t.h,t.s,t.l,t.opacity);if(t instanceof an||(t=dt(t)),!t)return new W;if(t instanceof W)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),u=Math.max(n,e,r),o=NaN,a=u-i,c=(u+i)/2;return a?(n===u?o=(e-r)/a+(e<r)*6:e===u?o=(r-n)/a+2:o=(n-e)/a+4,a/=c<.5?u+i:2-u-i,o*=60):a=c>0&&c<1?0:o,new W(o,a,c,t.opacity)}function ga(t,n,e,r){return arguments.length===1?si(t):new W(t,n,e,r??1)}function W(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Ae(W,ga,li(an,{brighter(t){return t=t==null?Mn:Math.pow(Mn,t),new W(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qt:Math.pow(Qt,t),new W(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Z(Gn(t>=240?t-240:t+120,i,r),Gn(t,i,r),Gn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new W(je(this.h),sn(this.s),sn(this.l),Nn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Nn(this.opacity);return`${t===1?"hsl(":"hsla("}${je(this.h)}, ${sn(this.s)*100}%, ${sn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function je(t){return t=(t||0)%360,t<0?t+360:t}function sn(t){return Math.max(0,Math.min(1,t||0))}function Gn(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}function va(t,n,e,r,i){var u=t*t,o=u*t;return((1-3*t+3*u-o)*n+(4-6*u+3*o)*e+(1+3*t+3*u-3*o)*r+o*i)/6}function _a(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],u=t[r+1],o=r>0?t[r-1]:2*i-u,a=r<n-1?t[r+2]:2*u-i;return va((e-r/n)*n,o,i,u,a)}}const Ce=t=>()=>t;function ma(t,n){return function(e){return t+e*n}}function ya(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function wa(t){return(t=+t)==1?ci:function(n,e){return e-n?ya(n,e,t):Ce(isNaN(n)?e:n)}}function ci(t,n){var e=n-t;return e?ma(t,e):Ce(isNaN(t)?n:t)}const $n=function t(n){var e=wa(n);function r(i,u){var o=e((i=kn(i)).r,(u=kn(u)).r),a=e(i.g,u.g),c=e(i.b,u.b),f=ci(i.opacity,u.opacity);return function(l){return i.r=o(l),i.g=a(l),i.b=c(l),i.opacity=f(l),i+""}}return r.gamma=t,r}(1);function xa(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),u=new Array(e),o,a;for(o=0;o<e;++o)a=kn(n[o]),r[o]=a.r||0,i[o]=a.g||0,u[o]=a.b||0;return r=t(r),i=t(i),u=t(u),a.opacity=1,function(c){return a.r=r(c),a.g=i(c),a.b=u(c),a+""}}}var ba=xa(_a);function Sa(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(u){for(i=0;i<e;++i)r[i]=t[i]*(1-u)+n[i]*u;return r}}function Ea(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ma(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),u=new Array(e),o;for(o=0;o<r;++o)i[o]=Pe(t[o],n[o]);for(;o<e;++o)u[o]=n[o];return function(a){for(o=0;o<r;++o)u[o]=i[o](a);return u}}function ka(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function nt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Na(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Pe(t[i],n[i]):r[i]=n[i];return function(u){for(i in e)r[i]=e[i](u);return r}}var ae=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kn=new RegExp(ae.source,"g");function $a(t){return function(){return t}}function Aa(t){return function(n){return t(n)+""}}function hi(t,n){var e=ae.lastIndex=Kn.lastIndex=0,r,i,u,o=-1,a=[],c=[];for(t=t+"",n=n+"";(r=ae.exec(t))&&(i=Kn.exec(n));)(u=i.index)>e&&(u=n.slice(e,u),a[o]?a[o]+=u:a[++o]=u),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,c.push({i:o,x:nt(r,i)})),e=Kn.lastIndex;return e<n.length&&(u=n.slice(e),a[o]?a[o]+=u:a[++o]=u),a.length<2?c[0]?Aa(c[0].x):$a(n):(n=c.length,function(f){for(var l=0,s;l<n;++l)a[(s=c[l]).i]=s.x(f);return a.join("")})}function Pe(t,n){var e=typeof n,r;return n==null||e==="boolean"?Ce(n):(e==="number"?nt:e==="string"?(r=dt(n))?(n=r,$n):hi:n instanceof dt?$n:n instanceof Date?ka:Ea(n)?Sa:Array.isArray(n)?Ma:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Na:nt)(t,n)}function Ca(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var tr=180/Math.PI,fe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pi(t,n,e,r,i,u){var o,a,c;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,o=-o),{translateX:i,translateY:u,rotate:Math.atan2(n,t)*tr,skewX:Math.atan(c)*tr,scaleX:o,scaleY:a}}var cn;function Pa(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?fe:pi(n.a,n.b,n.c,n.d,n.e,n.f)}function Ra(t){return t==null||(cn||(cn=document.createElementNS("http://www.w3.org/2000/svg","g")),cn.setAttribute("transform",t),!(t=cn.transform.baseVal.consolidate()))?fe:(t=t.matrix,pi(t.a,t.b,t.c,t.d,t.e,t.f))}function di(t,n,e,r){function i(f){return f.length?f.pop()+" ":""}function u(f,l,s,h,p,d){if(f!==s||l!==h){var m=p.push("translate(",null,n,null,e);d.push({i:m-4,x:nt(f,s)},{i:m-2,x:nt(l,h)})}else(s||h)&&p.push("translate("+s+n+h+e)}function o(f,l,s,h){f!==l?(f-l>180?l+=360:l-f>180&&(f+=360),h.push({i:s.push(i(s)+"rotate(",null,r)-2,x:nt(f,l)})):l&&s.push(i(s)+"rotate("+l+r)}function a(f,l,s,h){f!==l?h.push({i:s.push(i(s)+"skewX(",null,r)-2,x:nt(f,l)}):l&&s.push(i(s)+"skewX("+l+r)}function c(f,l,s,h,p,d){if(f!==s||l!==h){var m=p.push(i(p)+"scale(",null,",",null,")");d.push({i:m-4,x:nt(f,s)},{i:m-2,x:nt(l,h)})}else(s!==1||h!==1)&&p.push(i(p)+"scale("+s+","+h+")")}return function(f,l){var s=[],h=[];return f=t(f),l=t(l),u(f.translateX,f.translateY,l.translateX,l.translateY,s,h),o(f.rotate,l.rotate,s,h),a(f.skewX,l.skewX,s,h),c(f.scaleX,f.scaleY,l.scaleX,l.scaleY,s,h),f=l=null,function(p){for(var d=-1,m=h.length,g;++d<m;)s[(g=h[d]).i]=g.x(p);return s.join("")}}}var Ta=di(Pa,"px, ","px)","deg)"),Fa=di(Ra,", ",")",")"),Tt=0,Dt=0,qt=0,gi=1e3,An,Xt,Cn=0,xt=0,Bn=0,tn=typeof performance=="object"&&performance.now?performance:Date,vi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Re(){return xt||(vi(Ia),xt=tn.now()+Bn)}function Ia(){xt=0}function Pn(){this._call=this._time=this._next=null}Pn.prototype=_i.prototype={constructor:Pn,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Re():+e)+(n==null?0:+n),!this._next&&Xt!==this&&(Xt?Xt._next=this:An=this,Xt=this),this._call=t,this._time=e,le()},stop:function(){this._call&&(this._call=null,this._time=1/0,le())}};function _i(t,n,e){var r=new Pn;return r.restart(t,n,e),r}function La(){Re(),++Tt;for(var t=An,n;t;)(n=xt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Tt}function nr(){xt=(Cn=tn.now())+Bn,Tt=Dt=0;try{La()}finally{Tt=0,za(),xt=0}}function Oa(){var t=tn.now(),n=t-Cn;n>gi&&(Bn-=n,Cn=t)}function za(){for(var t,n=An,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:An=e);Xt=t,le(r)}function le(t){if(!Tt){Dt&&(Dt=clearTimeout(Dt));var n=t-xt;n>24?(t<1/0&&(Dt=setTimeout(nr,t-tn.now()-Bn)),qt&&(qt=clearInterval(qt))):(qt||(Cn=tn.now(),qt=setInterval(Oa,gi)),Tt=1,vi(nr))}}function er(t,n,e){var r=new Pn;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var qa=Jr("start","end","cancel","interrupt"),Da=[],mi=0,rr=1,se=2,yn=3,ir=4,ce=5,wn=6;function Yn(t,n,e,r,i,u){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;Xa(t,e,{name:n,index:r,group:i,on:qa,tween:Da,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:mi})}function Te(t,n){var e=j(t,n);if(e.state>mi)throw new Error("too late; already scheduled");return e}function ut(t,n){var e=j(t,n);if(e.state>yn)throw new Error("too late; already running");return e}function j(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Xa(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=_i(u,0,e.time);function u(f){e.state=rr,e.timer.restart(o,e.delay,e.time),e.delay<=f&&o(f-e.delay)}function o(f){var l,s,h,p;if(e.state!==rr)return c();for(l in r)if(p=r[l],p.name===e.name){if(p.state===yn)return er(o);p.state===ir?(p.state=wn,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[l]):+l<n&&(p.state=wn,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[l])}if(er(function(){e.state===yn&&(e.state=ir,e.timer.restart(a,e.delay,e.time),a(f))}),e.state=se,e.on.call("start",t,t.__data__,e.index,e.group),e.state===se){for(e.state=yn,i=new Array(h=e.tween.length),l=0,s=-1;l<h;++l)(p=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(i[++s]=p);i.length=s+1}}function a(f){for(var l=f<e.duration?e.ease.call(null,f/e.duration):(e.timer.restart(c),e.state=ce,1),s=-1,h=i.length;++s<h;)i[s].call(t,l);e.state===ce&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=wn,e.timer.stop(),delete r[n];for(var f in r)return;delete t.__transition}}function Ha(t,n){var e=t.__transition,r,i,u=!0,o;if(e){n=n==null?null:n+"";for(o in e){if((r=e[o]).name!==n){u=!1;continue}i=r.state>se&&r.state<ce,r.state=wn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[o]}u&&delete t.__transition}}function Za(t){return this.each(function(){Ha(this,t)})}function Ba(t,n){var e,r;return function(){var i=ut(this,t),u=i.tween;if(u!==e){r=e=u;for(var o=0,a=r.length;o<a;++o)if(r[o].name===n){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Ya(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var u=ut(this,t),o=u.tween;if(o!==r){i=(r=o).slice();for(var a={name:n,value:e},c=0,f=i.length;c<f;++c)if(i[c].name===n){i[c]=a;break}c===f&&i.push(a)}u.tween=i}}function Va(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=j(this.node(),e).tween,i=0,u=r.length,o;i<u;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((n==null?Ba:Ya)(e,t,n))}function Fe(t,n,e){var r=t._id;return t.each(function(){var i=ut(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return j(i,r).value[n]}}function yi(t,n){var e;return(typeof n=="number"?nt:n instanceof dt?$n:(e=dt(n))?(n=e,$n):hi)(t,n)}function Ga(t){return function(){this.removeAttribute(t)}}function Ka(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ua(t,n,e){var r,i=e+"",u;return function(){var o=this.getAttribute(t);return o===i?null:o===r?u:u=n(r=o,e)}}function Ja(t,n,e){var r,i=e+"",u;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?u:u=n(r=o,e)}}function Wa(t,n,e){var r,i,u;return function(){var o,a=e(this),c;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=a+"",o===c?null:o===r&&c===i?u:(i=c,u=n(r=o,a)))}}function Qa(t,n,e){var r,i,u;return function(){var o,a=e(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=a+"",o===c?null:o===r&&c===i?u:(i=c,u=n(r=o,a)))}}function ja(t,n){var e=Zn(t),r=e==="transform"?Fa:yi;return this.attrTween(t,typeof n=="function"?(e.local?Qa:Wa)(e,r,Fe(this,"attr."+t,n)):n==null?(e.local?Ka:Ga)(e):(e.local?Ja:Ua)(e,r,n))}function tf(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function nf(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function ef(t,n){var e,r;function i(){var u=n.apply(this,arguments);return u!==r&&(e=(r=u)&&nf(t,u)),e}return i._value=n,i}function rf(t,n){var e,r;function i(){var u=n.apply(this,arguments);return u!==r&&(e=(r=u)&&tf(t,u)),e}return i._value=n,i}function of(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=Zn(t);return this.tween(e,(r.local?ef:rf)(r,n))}function uf(t,n){return function(){Te(this,t).delay=+n.apply(this,arguments)}}function af(t,n){return n=+n,function(){Te(this,t).delay=n}}function ff(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?uf:af)(n,t)):j(this.node(),n).delay}function lf(t,n){return function(){ut(this,t).duration=+n.apply(this,arguments)}}function sf(t,n){return n=+n,function(){ut(this,t).duration=n}}function cf(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?lf:sf)(n,t)):j(this.node(),n).duration}function hf(t,n){if(typeof n!="function")throw new Error;return function(){ut(this,t).ease=n}}function pf(t){var n=this._id;return arguments.length?this.each(hf(n,t)):j(this.node(),n).ease}function df(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;ut(this,t).ease=e}}function gf(t){if(typeof t!="function")throw new Error;return this.each(df(this._id,t))}function vf(t){typeof t!="function"&&(t=jr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var u=n[i],o=u.length,a=r[i]=[],c,f=0;f<o;++f)(c=u[f])&&t.call(c,c.__data__,f,u)&&a.push(c);return new ct(r,this._parents,this._name,this._id)}function _f(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,u=Math.min(r,i),o=new Array(r),a=0;a<u;++a)for(var c=n[a],f=e[a],l=c.length,s=o[a]=new Array(l),h,p=0;p<l;++p)(h=c[p]||f[p])&&(s[p]=h);for(;a<r;++a)o[a]=n[a];return new ct(o,this._parents,this._name,this._id)}function mf(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function yf(t,n,e){var r,i,u=mf(n)?Te:ut;return function(){var o=u(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(n,e),o.on=i}}function wf(t,n){var e=this._id;return arguments.length<2?j(this.node(),e).on.on(t):this.each(yf(e,t,n))}function xf(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function bf(){return this.on("end.remove",xf(this._id))}function Sf(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ne(t));for(var r=this._groups,i=r.length,u=new Array(i),o=0;o<i;++o)for(var a=r[o],c=a.length,f=u[o]=new Array(c),l,s,h=0;h<c;++h)(l=a[h])&&(s=t.call(l,l.__data__,h,a))&&("__data__"in l&&(s.__data__=l.__data__),f[h]=s,Yn(f[h],n,e,h,f,j(l,e)));return new ct(u,this._parents,n,e)}function Ef(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Qr(t));for(var r=this._groups,i=r.length,u=[],o=[],a=0;a<i;++a)for(var c=r[a],f=c.length,l,s=0;s<f;++s)if(l=c[s]){for(var h=t.call(l,l.__data__,s,c),p,d=j(l,e),m=0,g=h.length;m<g;++m)(p=h[m])&&Yn(p,n,e,m,h,d);u.push(h),o.push(l)}return new ct(u,o,n,e)}var Mf=un.prototype.constructor;function kf(){return new Mf(this._groups,this._parents)}function Nf(t,n){var e,r,i;return function(){var u=Rt(this,t),o=(this.style.removeProperty(t),Rt(this,t));return u===o?null:u===e&&o===r?i:i=n(e=u,r=o)}}function wi(t){return function(){this.style.removeProperty(t)}}function $f(t,n,e){var r,i=e+"",u;return function(){var o=Rt(this,t);return o===i?null:o===r?u:u=n(r=o,e)}}function Af(t,n,e){var r,i,u;return function(){var o=Rt(this,t),a=e(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),Rt(this,t))),o===c?null:o===r&&c===i?u:(i=c,u=n(r=o,a))}}function Cf(t,n){var e,r,i,u="style."+n,o="end."+u,a;return function(){var c=ut(this,t),f=c.on,l=c.value[u]==null?a||(a=wi(n)):void 0;(f!==e||i!==l)&&(r=(e=f).copy()).on(o,i=l),c.on=r}}function Pf(t,n,e){var r=(t+="")=="transform"?Ta:yi;return n==null?this.styleTween(t,Nf(t,r)).on("end.style."+t,wi(t)):typeof n=="function"?this.styleTween(t,Af(t,r,Fe(this,"style."+t,n))).each(Cf(this._id,t)):this.styleTween(t,$f(t,r,n),e).on("end.style."+t,null)}function Rf(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Tf(t,n,e){var r,i;function u(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Rf(t,o,e)),r}return u._value=n,u}function Ff(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Tf(t,n,e??""))}function If(t){return function(){this.textContent=t}}function Lf(t){return function(){var n=t(this);this.textContent=n??""}}function Of(t){return this.tween("text",typeof t=="function"?Lf(Fe(this,"text",t)):If(t==null?"":t+""))}function zf(t){return function(n){this.textContent=t.call(this,n)}}function qf(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&zf(i)),n}return r._value=t,r}function Df(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,qf(t))}function Xf(){for(var t=this._name,n=this._id,e=xi(),r=this._groups,i=r.length,u=0;u<i;++u)for(var o=r[u],a=o.length,c,f=0;f<a;++f)if(c=o[f]){var l=j(c,n);Yn(c,t,e,f,o,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new ct(r,this._parents,t,e)}function Hf(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(u,o){var a={value:o},c={value:function(){--i===0&&u()}};e.each(function(){var f=ut(this,r),l=f.on;l!==t&&(n=(t=l).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(c)),f.on=n}),i===0&&u()})}var Zf=0;function ct(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function xi(){return++Zf}var lt=un.prototype;ct.prototype={constructor:ct,select:Sf,selectAll:Ef,selectChild:lt.selectChild,selectChildren:lt.selectChildren,filter:vf,merge:_f,selection:kf,transition:Xf,call:lt.call,nodes:lt.nodes,node:lt.node,size:lt.size,empty:lt.empty,each:lt.each,on:wf,attr:ja,attrTween:of,style:Pf,styleTween:Ff,text:Of,textTween:Df,remove:bf,tween:Va,delay:ff,duration:cf,ease:pf,easeVarying:gf,end:Hf,[Symbol.iterator]:lt[Symbol.iterator]};function Bf(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Yf={time:null,delay:0,duration:250,ease:Bf};function Vf(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Gf(t){var n,e;t instanceof ct?(n=t._id,t=t._name):(n=xi(),(e=Yf).time=Re(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,u=0;u<i;++u)for(var o=r[u],a=o.length,c,f=0;f<a;++f)(c=o[f])&&Yn(c,t,n,f,o,e||Vf(c,n));return new ct(r,this._parents,t,n)}un.prototype.interrupt=Za;un.prototype.transition=Gf;function Kf(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Uf(t,n){return fetch(t,n).then(Kf)}function Jf(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Rn(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Ft(t){return t=Rn(Math.abs(t)),t?t[1]:NaN}function Wf(t,n){return function(e,r){for(var i=e.length,u=[],o=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),u.push(e.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[o=(o+1)%t.length];return u.reverse().join(n)}}function Qf(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var jf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Tn(t){if(!(n=jf.exec(t)))throw new Error("invalid format: "+t);var n;return new Ie({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Tn.prototype=Ie.prototype;function Ie(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ie.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tl(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var bi;function nl(t,n){var e=Rn(t,n);if(!e)return t+"";var r=e[0],i=e[1],u=i-(bi=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return u===o?r:u>o?r+new Array(u-o+1).join("0"):u>0?r.slice(0,u)+"."+r.slice(u):"0."+new Array(1-u).join("0")+Rn(t,Math.max(0,n+u-1))[0]}function or(t,n){var e=Rn(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ur={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Jf,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>or(t*100,n),r:or,s:nl,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ar(t){return t}var fr=Array.prototype.map,lr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function el(t){var n=t.grouping===void 0||t.thousands===void 0?ar:Wf(fr.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?ar:Qf(fr.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(s){s=Tn(s);var h=s.fill,p=s.align,d=s.sign,m=s.symbol,g=s.zero,w=s.width,y=s.comma,_=s.precision,b=s.trim,S=s.type;S==="n"?(y=!0,S="g"):ur[S]||(_===void 0&&(_=12),b=!0,S="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var M=m==="$"?e:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=m==="$"?r:/[%p]/.test(S)?o:"",k=ur[S],C=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function R(x){var O=M,N=P,$,v,E;if(S==="c")N=k(x)+N,x="";else{x=+x;var I=x<0||1/x<0;if(x=isNaN(x)?c:k(Math.abs(x),_),b&&(x=tl(x)),I&&+x==0&&d!=="+"&&(I=!1),O=(I?d==="("?d:a:d==="-"||d==="("?"":d)+O,N=(S==="s"?lr[8+bi/3]:"")+N+(I&&d==="("?")":""),C){for($=-1,v=x.length;++$<v;)if(E=x.charCodeAt($),48>E||E>57){N=(E===46?i+x.slice($+1):x.slice($))+N,x=x.slice(0,$);break}}}y&&!g&&(x=n(x,1/0));var H=O.length+x.length+N.length,z=H<w?new Array(w-H+1).join(h):"";switch(y&&g&&(x=n(z+x,z.length?w-N.length:1/0),z=""),p){case"<":x=O+x+N+z;break;case"=":x=O+z+x+N;break;case"^":x=z.slice(0,H=z.length>>1)+O+x+N+z.slice(H);break;default:x=z+O+x+N;break}return u(x)}return R.toString=function(){return s+""},R}function l(s,h){var p=f((s=Tn(s),s.type="f",s)),d=Math.max(-8,Math.min(8,Math.floor(Ft(h)/3)))*3,m=Math.pow(10,-d),g=lr[8+d/3];return function(w){return p(m*w)+g}}return{format:f,formatPrefix:l}}var hn,Si,Ei;rl({thousands:",",grouping:[3],currency:["$",""]});function rl(t){return hn=el(t),Si=hn.format,Ei=hn.formatPrefix,hn}function il(t){return Math.max(0,-Ft(Math.abs(t)))}function ol(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ft(n)/3)))*3-Ft(Math.abs(t)))}function ul(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Ft(n)-Ft(t))+1}var T=1e-6,al=1e-12,A=Math.PI,B=A/2,sr=A/4,K=A*2,Y=180/A,X=A/180,L=Math.abs,Mi=Math.atan,nn=Math.atan2,q=Math.cos,fl=Math.exp,ll=Math.log,D=Math.sin,sl=Math.sign||function(t){return t>0?1:t<0?-1:0},St=Math.sqrt,cl=Math.tan;function hl(t){return t>1?0:t<-1?A:Math.acos(t)}function en(t){return t>1?B:t<-1?-B:Math.asin(t)}function J(){}function Fn(t,n){t&&hr.hasOwnProperty(t.type)&&hr[t.type](t,n)}var cr={Feature:function(t,n){Fn(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Fn(e[r].geometry,n)}},hr={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){he(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)he(e[r],n,0)},Polygon:function(t,n){pr(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)pr(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Fn(e[r],n)}};function he(t,n,e){var r=-1,i=t.length-e,u;for(n.lineStart();++r<i;)u=t[r],n.point(u[0],u[1],u[2]);n.lineEnd()}function pr(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)he(t[e],n,1);n.polygonEnd()}function $t(t,n){t&&cr.hasOwnProperty(t.type)?cr[t.type](t,n):Fn(t,n)}function pe(t){return[nn(t[1],t[0]),en(t[2])]}function It(t){var n=t[0],e=t[1],r=q(e);return[r*q(n),r*D(n),D(e)]}function pn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function In(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Un(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function dn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function de(t){var n=St(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function ge(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function ve(t,n){return L(t)>A&&(t-=Math.round(t/K)*K),[t,n]}ve.invert=ve;function ki(t,n,e){return(t%=K)?n||e?ge(gr(t),vr(n,e)):gr(t):n||e?vr(n,e):ve}function dr(t){return function(n,e){return n+=t,L(n)>A&&(n-=Math.round(n/K)*K),[n,e]}}function gr(t){var n=dr(t);return n.invert=dr(-t),n}function vr(t,n){var e=q(t),r=D(t),i=q(n),u=D(n);function o(a,c){var f=q(c),l=q(a)*f,s=D(a)*f,h=D(c),p=h*e+l*r;return[nn(s*i-p*u,l*e-h*r),en(p*i+s*u)]}return o.invert=function(a,c){var f=q(c),l=q(a)*f,s=D(a)*f,h=D(c),p=h*i-s*u;return[nn(s*i+h*u,l*e+p*r),en(p*e-l*r)]},o}function pl(t){t=ki(t[0]*X,t[1]*X,t.length>2?t[2]*X:0);function n(e){return e=t(e[0]*X,e[1]*X),e[0]*=Y,e[1]*=Y,e}return n.invert=function(e){return e=t.invert(e[0]*X,e[1]*X),e[0]*=Y,e[1]*=Y,e},n}function dl(t,n,e,r,i,u){if(e){var o=q(n),a=D(n),c=r*e;i==null?(i=n+r*K,u=n-c/2):(i=_r(o,i),u=_r(o,u),(r>0?i<u:i>u)&&(i+=r*K));for(var f,l=i;r>0?l>u:l<u;l-=c)f=pe([o,-a*q(l),-a*D(l)]),t.point(f[0],f[1])}}function _r(t,n){n=It(n),n[0]-=t,de(n);var e=hl(-n[1]);return((-n[2]<0?-e:e)+K-T)%K}function Ni(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:J,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function xn(t,n){return L(t[0]-n[0])<T&&L(t[1]-n[1])<T}function gn(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function $i(t,n,e,r,i){var u=[],o=[],a,c;if(t.forEach(function(d){if(!((m=d.length-1)<=0)){var m,g=d[0],w=d[m],y;if(xn(g,w)){if(!g[2]&&!w[2]){for(i.lineStart(),a=0;a<m;++a)i.point((g=d[a])[0],g[1]);i.lineEnd();return}w[0]+=2*T}u.push(y=new gn(g,d,null,!0)),o.push(y.o=new gn(g,null,y,!1)),u.push(y=new gn(w,d,null,!1)),o.push(y.o=new gn(w,null,y,!0))}}),!!u.length){for(o.sort(n),mr(u),mr(o),a=0,c=o.length;a<c;++a)o[a].e=e=!e;for(var f=u[0],l,s;;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,c=l.length;a<c;++a)i.point((s=l[a])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(l=h.p.z,a=l.length-1;a>=0;--a)i.point((s=l[a])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,l=h.z,p=!p}while(!h.v);i.lineEnd()}}}function mr(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Jn(t){return L(t[0])<=A?t[0]:sl(t[0])*((L(t[0])+A)%K-A)}function gl(t,n){var e=Jn(n),r=n[1],i=D(r),u=[D(e),-q(e),0],o=0,a=0,c=new wt;i===1?r=B+T:i===-1&&(r=-B-T);for(var f=0,l=t.length;f<l;++f)if(h=(s=t[f]).length)for(var s,h,p=s[h-1],d=Jn(p),m=p[1]/2+sr,g=D(m),w=q(m),y=0;y<h;++y,d=b,g=M,w=P,p=_){var _=s[y],b=Jn(_),S=_[1]/2+sr,M=D(S),P=q(S),k=b-d,C=k>=0?1:-1,R=C*k,x=R>A,O=g*M;if(c.add(nn(O*C*D(R),w*P+O*q(R))),o+=x?k+C*K:k,x^d>=e^b>=e){var N=In(It(p),It(_));de(N);var $=In(u,N);de($);var v=(x^k>=0?-1:1)*en($[2]);(r>v||r===v&&(N[0]||N[1]))&&(a+=x^k>=0?1:-1)}}return(o<-T||o<T&&c<-al)^a&1}function Ai(t,n,e,r){return function(i){var u=n(i),o=Ni(),a=n(o),c=!1,f,l,s,h={point:p,lineStart:m,lineEnd:g,polygonStart:function(){h.point=w,h.lineStart=y,h.lineEnd=_,l=[],f=[]},polygonEnd:function(){h.point=p,h.lineStart=m,h.lineEnd=g,l=Ur(l);var b=gl(f,r);l.length?(c||(i.polygonStart(),c=!0),$i(l,_l,b,e,i)):b&&(c||(i.polygonStart(),c=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),l=f=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(b,S){t(b,S)&&i.point(b,S)}function d(b,S){u.point(b,S)}function m(){h.point=d,u.lineStart()}function g(){h.point=p,u.lineEnd()}function w(b,S){s.push([b,S]),a.point(b,S)}function y(){a.lineStart(),s=[]}function _(){w(s[0][0],s[0][1]),a.lineEnd();var b=a.clean(),S=o.result(),M,P=S.length,k,C,R;if(s.pop(),f.push(s),s=null,!!P){if(b&1){if(C=S[0],(k=C.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),M=0;M<k;++M)i.point((R=C[M])[0],R[1]);i.lineEnd()}return}P>1&&b&2&&S.push(S.pop().concat(S.shift())),l.push(S.filter(vl))}}return h}}function vl(t){return t.length>1}function _l(t,n){return((t=t.x)[0]<0?t[1]-B-T:B-t[1])-((n=n.x)[0]<0?n[1]-B-T:B-n[1])}const yr=Ai(function(){return!0},ml,wl,[-A,-B]);function ml(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(u,o){var a=u>0?A:-A,c=L(u-n);L(c-A)<T?(t.point(n,e=(e+o)/2>0?B:-B),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(a,e),t.point(u,e),i=0):r!==a&&c>=A&&(L(n-r)<T&&(n-=r*T),L(u-a)<T&&(u-=a*T),e=yl(n,e,u,o),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(a,e),i=0),t.point(n=u,e=o),r=a},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function yl(t,n,e,r){var i,u,o=D(t-e);return L(o)>T?Mi((D(n)*(u=q(r))*D(e)-D(r)*(i=q(n))*D(t))/(i*u*o)):(n+r)/2}function wl(t,n,e,r){var i;if(t==null)i=e*B,r.point(-A,i),r.point(0,i),r.point(A,i),r.point(A,0),r.point(A,-i),r.point(0,-i),r.point(-A,-i),r.point(-A,0),r.point(-A,i);else if(L(t[0]-n[0])>T){var u=t[0]<n[0]?A:-A;i=e*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else r.point(n[0],n[1])}function xl(t){var n=q(t),e=6*X,r=n>0,i=L(n)>T;function u(l,s,h,p){dl(p,t,e,h,l,s)}function o(l,s){return q(l)*q(s)>n}function a(l){var s,h,p,d,m;return{lineStart:function(){d=p=!1,m=1},point:function(g,w){var y=[g,w],_,b=o(g,w),S=r?b?0:f(g,w):b?f(g+(g<0?A:-A),w):0;if(!s&&(d=p=b)&&l.lineStart(),b!==p&&(_=c(s,y),(!_||xn(s,_)||xn(y,_))&&(y[2]=1)),b!==p)m=0,b?(l.lineStart(),_=c(y,s),l.point(_[0],_[1])):(_=c(s,y),l.point(_[0],_[1],2),l.lineEnd()),s=_;else if(i&&s&&r^b){var M;!(S&h)&&(M=c(y,s,!0))&&(m=0,r?(l.lineStart(),l.point(M[0][0],M[0][1]),l.point(M[1][0],M[1][1]),l.lineEnd()):(l.point(M[1][0],M[1][1]),l.lineEnd(),l.lineStart(),l.point(M[0][0],M[0][1],3)))}b&&(!s||!xn(s,y))&&l.point(y[0],y[1]),s=y,p=b,h=S},lineEnd:function(){p&&l.lineEnd(),s=null},clean:function(){return m|(d&&p)<<1}}}function c(l,s,h){var p=It(l),d=It(s),m=[1,0,0],g=In(p,d),w=pn(g,g),y=g[0],_=w-y*y;if(!_)return!h&&l;var b=n*w/_,S=-n*y/_,M=In(m,g),P=dn(m,b),k=dn(g,S);Un(P,k);var C=M,R=pn(P,C),x=pn(C,C),O=R*R-x*(pn(P,P)-1);if(!(O<0)){var N=St(O),$=dn(C,(-R-N)/x);if(Un($,P),$=pe($),!h)return $;var v=l[0],E=s[0],I=l[1],H=s[1],z;E<v&&(z=v,v=E,E=z);var Ot=E-v,at=L(Ot-A)<T,gt=at||Ot<T;if(!at&&H<I&&(z=I,I=H,H=z),gt?at?I+H>0^$[1]<(L($[0]-v)<T?I:H):I<=$[1]&&$[1]<=H:Ot>A^(v<=$[0]&&$[0]<=E)){var ft=dn(C,(-R+N)/x);return Un(ft,P),[$,pe(ft)]}}}function f(l,s){var h=r?t:A-t,p=0;return l<-h?p|=1:l>h&&(p|=2),s<-h?p|=4:s>h&&(p|=8),p}return Ai(o,a,u,r?[0,-t]:[-A,t-A])}function bl(t,n,e,r,i,u){var o=t[0],a=t[1],c=n[0],f=n[1],l=0,s=1,h=c-o,p=f-a,d;if(d=e-o,!(!h&&d>0)){if(d/=h,h<0){if(d<l)return;d<s&&(s=d)}else if(h>0){if(d>s)return;d>l&&(l=d)}if(d=i-o,!(!h&&d<0)){if(d/=h,h<0){if(d>s)return;d>l&&(l=d)}else if(h>0){if(d<l)return;d<s&&(s=d)}if(d=r-a,!(!p&&d>0)){if(d/=p,p<0){if(d<l)return;d<s&&(s=d)}else if(p>0){if(d>s)return;d>l&&(l=d)}if(d=u-a,!(!p&&d<0)){if(d/=p,p<0){if(d>s)return;d>l&&(l=d)}else if(p>0){if(d<l)return;d<s&&(s=d)}return l>0&&(t[0]=o+l*h,t[1]=a+l*p),s<1&&(n[0]=o+s*h,n[1]=a+s*p),!0}}}}}var Ht=1e9,vn=-Ht;function Sl(t,n,e,r){function i(f,l){return t<=f&&f<=e&&n<=l&&l<=r}function u(f,l,s,h){var p=0,d=0;if(f==null||(p=o(f,s))!==(d=o(l,s))||c(f,l)<0^s>0)do h.point(p===0||p===3?t:e,p>1?r:n);while((p=(p+s+4)%4)!==d);else h.point(l[0],l[1])}function o(f,l){return L(f[0]-t)<T?l>0?0:3:L(f[0]-e)<T?l>0?2:1:L(f[1]-n)<T?l>0?1:0:l>0?3:2}function a(f,l){return c(f.x,l.x)}function c(f,l){var s=o(f,1),h=o(l,1);return s!==h?s-h:s===0?l[1]-f[1]:s===1?f[0]-l[0]:s===2?f[1]-l[1]:l[0]-f[0]}return function(f){var l=f,s=Ni(),h,p,d,m,g,w,y,_,b,S,M,P={point:k,lineStart:O,lineEnd:N,polygonStart:R,polygonEnd:x};function k(v,E){i(v,E)&&l.point(v,E)}function C(){for(var v=0,E=0,I=p.length;E<I;++E)for(var H=p[E],z=1,Ot=H.length,at=H[0],gt,ft,fn=at[0],Et=at[1];z<Ot;++z)gt=fn,ft=Et,at=H[z],fn=at[0],Et=at[1],ft<=r?Et>r&&(fn-gt)*(r-ft)>(Et-ft)*(t-gt)&&++v:Et<=r&&(fn-gt)*(r-ft)<(Et-ft)*(t-gt)&&--v;return v}function R(){l=s,h=[],p=[],M=!0}function x(){var v=C(),E=M&&v,I=(h=Ur(h)).length;(E||I)&&(f.polygonStart(),E&&(f.lineStart(),u(null,null,1,f),f.lineEnd()),I&&$i(h,a,v,u,f),f.polygonEnd()),l=f,h=p=d=null}function O(){P.point=$,p&&p.push(d=[]),S=!0,b=!1,y=_=NaN}function N(){h&&($(m,g),w&&b&&s.rejoin(),h.push(s.result())),P.point=k,b&&l.lineEnd()}function $(v,E){var I=i(v,E);if(p&&d.push([v,E]),S)m=v,g=E,w=I,S=!1,I&&(l.lineStart(),l.point(v,E));else if(I&&b)l.point(v,E);else{var H=[y=Math.max(vn,Math.min(Ht,y)),_=Math.max(vn,Math.min(Ht,_))],z=[v=Math.max(vn,Math.min(Ht,v)),E=Math.max(vn,Math.min(Ht,E))];bl(H,z,t,n,e,r)?(b||(l.lineStart(),l.point(H[0],H[1])),l.point(z[0],z[1]),I||l.lineEnd(),M=!1):I&&(l.lineStart(),l.point(v,E),M=!1)}y=v,_=E,b=I}return P}}const _e=t=>t;var Wn=new wt,me=new wt,Ci,Pi,ye,we,ht={point:J,lineStart:J,lineEnd:J,polygonStart:function(){ht.lineStart=El,ht.lineEnd=kl},polygonEnd:function(){ht.lineStart=ht.lineEnd=ht.point=J,Wn.add(L(me)),me=new wt},result:function(){var t=Wn/2;return Wn=new wt,t}};function El(){ht.point=Ml}function Ml(t,n){ht.point=Ri,Ci=ye=t,Pi=we=n}function Ri(t,n){me.add(we*t-ye*n),ye=t,we=n}function kl(){Ri(Ci,Pi)}const wr=ht;var Lt=1/0,Ln=Lt,rn=-Lt,On=rn,Nl={point:$l,lineStart:J,lineEnd:J,polygonStart:J,polygonEnd:J,result:function(){var t=[[Lt,Ln],[rn,On]];return rn=On=-(Ln=Lt=1/0),t}};function $l(t,n){t<Lt&&(Lt=t),t>rn&&(rn=t),n<Ln&&(Ln=n),n>On&&(On=n)}const zn=Nl;var xe=0,be=0,Zt=0,qn=0,Dn=0,At=0,Se=0,Ee=0,Bt=0,Ti,Fi,et,rt,Q={point:bt,lineStart:xr,lineEnd:br,polygonStart:function(){Q.lineStart=Pl,Q.lineEnd=Rl},polygonEnd:function(){Q.point=bt,Q.lineStart=xr,Q.lineEnd=br},result:function(){var t=Bt?[Se/Bt,Ee/Bt]:At?[qn/At,Dn/At]:Zt?[xe/Zt,be/Zt]:[NaN,NaN];return xe=be=Zt=qn=Dn=At=Se=Ee=Bt=0,t}};function bt(t,n){xe+=t,be+=n,++Zt}function xr(){Q.point=Al}function Al(t,n){Q.point=Cl,bt(et=t,rt=n)}function Cl(t,n){var e=t-et,r=n-rt,i=St(e*e+r*r);qn+=i*(et+t)/2,Dn+=i*(rt+n)/2,At+=i,bt(et=t,rt=n)}function br(){Q.point=bt}function Pl(){Q.point=Tl}function Rl(){Ii(Ti,Fi)}function Tl(t,n){Q.point=Ii,bt(Ti=et=t,Fi=rt=n)}function Ii(t,n){var e=t-et,r=n-rt,i=St(e*e+r*r);qn+=i*(et+t)/2,Dn+=i*(rt+n)/2,At+=i,i=rt*t-et*n,Se+=i*(et+t),Ee+=i*(rt+n),Bt+=i*3,bt(et=t,rt=n)}const Sr=Q;function Li(t){this._context=t}Li.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,K);break}}},result:J};var Me=new wt,Qn,Oi,zi,Yt,Vt,Xn={point:J,lineStart:function(){Xn.point=Fl},lineEnd:function(){Qn&&qi(Oi,zi),Xn.point=J},polygonStart:function(){Qn=!0},polygonEnd:function(){Qn=null},result:function(){var t=+Me;return Me=new wt,t}};function Fl(t,n){Xn.point=qi,Oi=Yt=t,zi=Vt=n}function qi(t,n){Yt-=t,Vt-=n,Me.add(St(Yt*Yt+Vt*Vt)),Yt=t,Vt=n}const Er=Xn;let Mr,Hn,kr,Nr;class $r{constructor(n){this._append=n==null?Di:Il(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==kr||this._append!==Hn){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,kr=r,Hn=this._append,Nr=this._,this._=i}this._+=Nr;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Di(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Il(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Di;if(n!==Mr){const e=10**n;Mr=n,Hn=function(i){let u=1;this._+=i[0];for(const o=i.length;u<o;++u)this._+=Math.round(arguments[u]*e)/e+i[u]}}return Hn}function Ll(t,n){let e=3,r=4.5,i,u;function o(a){return a&&(typeof r=="function"&&u.pointRadius(+r.apply(this,arguments)),$t(a,i(u))),u.result()}return o.area=function(a){return $t(a,i(wr)),wr.result()},o.measure=function(a){return $t(a,i(Er)),Er.result()},o.bounds=function(a){return $t(a,i(zn)),zn.result()},o.centroid=function(a){return $t(a,i(Sr)),Sr.result()},o.projection=function(a){return arguments.length?(i=a==null?(t=null,_e):(t=a).stream,o):t},o.context=function(a){return arguments.length?(u=a==null?(n=null,new $r(e)):new Li(n=a),typeof r!="function"&&u.pointRadius(r),o):n},o.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(u.pointRadius(+a),+a),o):r},o.digits=function(a){if(!arguments.length)return e;if(a==null)e=null;else{const c=Math.floor(a);if(!(c>=0))throw new RangeError(`invalid digits: ${a}`);e=c}return n===null&&(u=new $r(e)),o},o.projection(t).digits(e).context(n)}function Le(t){return function(n){var e=new ke;for(var r in t)e[r]=t[r];return e.stream=n,e}}function ke(){}ke.prototype={constructor:ke,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Oe(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),$t(e,t.stream(zn)),n(zn.result()),r!=null&&t.clipExtent(r),t}function Xi(t,n,e){return Oe(t,function(r){var i=n[1][0]-n[0][0],u=n[1][1]-n[0][1],o=Math.min(i/(r[1][0]-r[0][0]),u/(r[1][1]-r[0][1])),a=+n[0][0]+(i-o*(r[1][0]+r[0][0]))/2,c=+n[0][1]+(u-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,c])},e)}function Ol(t,n,e){return Xi(t,[[0,0],n],e)}function zl(t,n,e){return Oe(t,function(r){var i=+n,u=i/(r[1][0]-r[0][0]),o=(i-u*(r[1][0]+r[0][0]))/2,a=-u*r[0][1];t.scale(150*u).translate([o,a])},e)}function ql(t,n,e){return Oe(t,function(r){var i=+n,u=i/(r[1][1]-r[0][1]),o=-u*r[0][0],a=(i-u*(r[1][1]+r[0][1]))/2;t.scale(150*u).translate([o,a])},e)}var Ar=16,Dl=q(30*X);function Cr(t,n){return+n?Hl(t,n):Xl(t)}function Xl(t){return Le({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function Hl(t,n){function e(r,i,u,o,a,c,f,l,s,h,p,d,m,g){var w=f-r,y=l-i,_=w*w+y*y;if(_>4*n&&m--){var b=o+h,S=a+p,M=c+d,P=St(b*b+S*S+M*M),k=en(M/=P),C=L(L(M)-1)<T||L(u-s)<T?(u+s)/2:nn(S,b),R=t(C,k),x=R[0],O=R[1],N=x-r,$=O-i,v=y*N-w*$;(v*v/_>n||L((w*N+y*$)/_-.5)>.3||o*h+a*p+c*d<Dl)&&(e(r,i,u,o,a,c,x,O,C,b/=P,S/=P,M,m,g),g.point(x,O),e(x,O,C,b,S,M,f,l,s,h,p,d,m,g))}}return function(r){var i,u,o,a,c,f,l,s,h,p,d,m,g={point:w,lineStart:y,lineEnd:b,polygonStart:function(){r.polygonStart(),g.lineStart=S},polygonEnd:function(){r.polygonEnd(),g.lineStart=y}};function w(k,C){k=t(k,C),r.point(k[0],k[1])}function y(){s=NaN,g.point=_,r.lineStart()}function _(k,C){var R=It([k,C]),x=t(k,C);e(s,h,l,p,d,m,s=x[0],h=x[1],l=k,p=R[0],d=R[1],m=R[2],Ar,r),r.point(s,h)}function b(){g.point=w,r.lineEnd()}function S(){y(),g.point=M,g.lineEnd=P}function M(k,C){_(i=k,C),u=s,o=h,a=p,c=d,f=m,g.point=_}function P(){e(s,h,l,p,d,m,u,o,i,a,c,f,Ar,r),g.lineEnd=b,b()}return g}}var Zl=Le({point:function(t,n){this.stream.point(t*X,n*X)}});function Bl(t){return Le({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function Yl(t,n,e,r,i){function u(o,a){return o*=r,a*=i,[n+t*o,e-t*a]}return u.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},u}function Pr(t,n,e,r,i,u){if(!u)return Yl(t,n,e,r,i);var o=q(u),a=D(u),c=o*t,f=a*t,l=o/t,s=a/t,h=(a*e-o*n)/t,p=(a*n+o*e)/t;function d(m,g){return m*=r,g*=i,[c*m-f*g+n,e-f*m-c*g]}return d.invert=function(m,g){return[r*(l*m-s*g+h),i*(p-s*m-l*g)]},d}function Vl(t){return Gl(function(){return t})()}function Gl(t){var n,e=150,r=480,i=250,u=0,o=0,a=0,c=0,f=0,l,s=0,h=1,p=1,d=null,m=yr,g=null,w,y,_,b=_e,S=.5,M,P,k,C,R;function x(v){return k(v[0]*X,v[1]*X)}function O(v){return v=k.invert(v[0],v[1]),v&&[v[0]*Y,v[1]*Y]}x.stream=function(v){return C&&R===v?C:C=Zl(Bl(l)(m(M(b(R=v)))))},x.preclip=function(v){return arguments.length?(m=v,d=void 0,$()):m},x.postclip=function(v){return arguments.length?(b=v,g=w=y=_=null,$()):b},x.clipAngle=function(v){return arguments.length?(m=+v?xl(d=v*X):(d=null,yr),$()):d*Y},x.clipExtent=function(v){return arguments.length?(b=v==null?(g=w=y=_=null,_e):Sl(g=+v[0][0],w=+v[0][1],y=+v[1][0],_=+v[1][1]),$()):g==null?null:[[g,w],[y,_]]},x.scale=function(v){return arguments.length?(e=+v,N()):e},x.translate=function(v){return arguments.length?(r=+v[0],i=+v[1],N()):[r,i]},x.center=function(v){return arguments.length?(u=v[0]%360*X,o=v[1]%360*X,N()):[u*Y,o*Y]},x.rotate=function(v){return arguments.length?(a=v[0]%360*X,c=v[1]%360*X,f=v.length>2?v[2]%360*X:0,N()):[a*Y,c*Y,f*Y]},x.angle=function(v){return arguments.length?(s=v%360*X,N()):s*Y},x.reflectX=function(v){return arguments.length?(h=v?-1:1,N()):h<0},x.reflectY=function(v){return arguments.length?(p=v?-1:1,N()):p<0},x.precision=function(v){return arguments.length?(M=Cr(P,S=v*v),$()):St(S)},x.fitExtent=function(v,E){return Xi(x,v,E)},x.fitSize=function(v,E){return Ol(x,v,E)},x.fitWidth=function(v,E){return zl(x,v,E)},x.fitHeight=function(v,E){return ql(x,v,E)};function N(){var v=Pr(e,0,0,h,p,s).apply(null,n(u,o)),E=Pr(e,r-v[0],i-v[1],h,p,s);return l=ki(a,c,f),P=ge(n,E),k=ge(l,P),M=Cr(P,S),$()}function $(){return C=R=null,x}return function(){return n=t.apply(this,arguments),x.invert=n.invert&&O,N()}}function ze(t,n){return[t,ll(cl((B+n)/2))]}ze.invert=function(t,n){return[t,2*Mi(fl(n))-B]};function Kl(){return Ul(ze).scale(961/K)}function Ul(t){var n=Vl(t),e=n.center,r=n.scale,i=n.translate,u=n.clipExtent,o=null,a,c,f;n.scale=function(s){return arguments.length?(r(s),l()):r()},n.translate=function(s){return arguments.length?(i(s),l()):i()},n.center=function(s){return arguments.length?(e(s),l()):e()},n.clipExtent=function(s){return arguments.length?(s==null?o=a=c=f=null:(o=+s[0][0],a=+s[0][1],c=+s[1][0],f=+s[1][1]),l()):o==null?null:[[o,a],[c,f]]};function l(){var s=A*r(),h=n(pl(n.rotate()).invert([0,0]));return u(o==null?[[h[0]-s,h[1]-s],[h[0]+s,h[1]+s]]:t===ze?[[Math.max(h[0]-s,o),a],[Math.min(h[0]+s,c),f]]:[[o,Math.max(h[1]-s,a)],[c,Math.min(h[1]+s,f)]])}return l()}function Jl(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}function Hi(t){return t}function Wl(t,n,e,r){var i=yo(t,n,e),u;switch(r=Tn(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(u=ol(i,o))&&(r.precision=u),Ei(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(u=ul(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=u-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(u=il(i))&&(r.precision=u-(r.type==="%")*2);break}}return Si(r)}function Ql(t){var n=t.domain;return t.ticks=function(e){var r=n();return mo(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return Wl(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,u=r.length-1,o=r[i],a=r[u],c,f,l=10;for(a<o&&(f=o,o=a,a=f,f=i,i=u,u=f);l-- >0;){if(f=ie(o,a,e),f===c)return r[i]=o,r[u]=a,n(r);if(f>0)o=Math.floor(o/f)*f,a=Math.ceil(a/f)*f;else if(f<0)o=Math.ceil(o*f)/f,a=Math.floor(a*f)/f;else break;c=f}return t},t}function jl(){var t=0,n=1,e,r,i,u,o=Hi,a=!1,c;function f(s){return s==null||isNaN(s=+s)?c:o(i===0?.5:(s=(u(s)-e)*i,a?Math.max(0,Math.min(1,s)):s))}f.domain=function(s){return arguments.length?([t,n]=s,e=u(t=+t),r=u(n=+n),i=e===r?0:1/(r-e),f):[t,n]},f.clamp=function(s){return arguments.length?(a=!!s,f):a},f.interpolator=function(s){return arguments.length?(o=s,f):o};function l(s){return function(h){var p,d;return arguments.length?([p,d]=h,o=s(p,d),f):[o(0),o(1)]}}return f.range=l(Pe),f.rangeRound=l(Ca),f.unknown=function(s){return arguments.length?(c=s,f):c},function(s){return u=s,e=s(t),r=s(n),i=e===r?0:1/(r-e),f}}function ts(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Zi(){var t=Ql(jl()(Hi));return t.copy=function(){return ts(t,Zi())},Jl.apply(t,arguments)}function ns(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const es=t=>ba(t[t.length-1]);var rs=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ns);const is=es(rs);function Gt(t,n,e){this.k=t,this.x=n,this.y=e}Gt.prototype={constructor:Gt,scale:function(t){return t===1?this:new Gt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Gt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Gt.prototype;function os(t){return t}function us(t){if(t==null)return os;var n,e,r=t.scale[0],i=t.scale[1],u=t.translate[0],o=t.translate[1];return function(a,c){c||(n=e=0);var f=2,l=a.length,s=new Array(l);for(s[0]=(n+=a[0])*r+u,s[1]=(e+=a[1])*i+o;f<l;)s[f]=a[f],++f;return s}}function as(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}function fs(t,n){return typeof n=="string"&&(n=t.objects[n]),n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(e){return Rr(t,e)})}:Rr(t,n)}function Rr(t,n){var e=n.id,r=n.bbox,i=n.properties==null?{}:n.properties,u=ls(t,n);return e==null&&r==null?{type:"Feature",properties:i,geometry:u}:r==null?{type:"Feature",id:e,properties:i,geometry:u}:{type:"Feature",id:e,bbox:r,properties:i,geometry:u}}function ls(t,n){var e=us(t.transform),r=t.arcs;function i(l,s){s.length&&s.pop();for(var h=r[l<0?~l:l],p=0,d=h.length;p<d;++p)s.push(e(h[p],p));l<0&&as(s,d)}function u(l){return e(l)}function o(l){for(var s=[],h=0,p=l.length;h<p;++h)i(l[h],s);return s.length<2&&s.push(s[0]),s}function a(l){for(var s=o(l);s.length<4;)s.push(s[0]);return s}function c(l){return l.map(a)}function f(l){var s=l.type,h;switch(s){case"GeometryCollection":return{type:s,geometries:l.geometries.map(f)};case"Point":h=u(l.coordinates);break;case"MultiPoint":h=l.coordinates.map(u);break;case"LineString":h=o(l.arcs);break;case"MultiLineString":h=l.arcs.map(o);break;case"Polygon":h=c(l.arcs);break;case"MultiPolygon":h=l.arcs.map(c);break;default:return null}return{type:s,coordinates:h}}return f(n)}function Tr(t,n,e){const r=t.slice();return r[15]=n[e],r[17]=e,r}function Fr(t){let n,e,r,i=(t[15]/5*t[3]).toFixed(1)+"",u,o,a=((t[15]/5+.2)*t[3]).toFixed(1)+"",c,f;return{c(){n=U("div"),e=st(),r=U("span"),u=it(i),o=it(" - "),c=it(a),f=it("%"),V(n,"display","inline-block"),V(n,"width","20px"),V(n,"height","20px"),V(n,"background-color",t[2]?t[2]((t[15]/5+.1)*t[3]):"white"),V(r,"padding-right","10px")},m(l,s){mt(l,n,s),mt(l,e,s),mt(l,r,s),F(r,u),F(r,o),F(r,c),F(r,f)},p(l,s){s&12&&V(n,"background-color",l[2]?l[2]((l[15]/5+.1)*l[3]):"white"),s&8&&i!==(i=(l[15]/5*l[3]).toFixed(1)+"")&&bn(u,i),s&8&&a!==(a=((l[15]/5+.2)*l[3]).toFixed(1)+"")&&bn(c,a)},d(l){l&&pt(n),l&&pt(e),l&&pt(r)}}}function Ir(t){let n,e,r,i;function u(a){t[4](a)}let o={labels:t[1].map(Lr).slice(3),counts:t[1].map(Or).slice(3)};return t[0]!==void 0&&(o.value=t[0]),n=new co({props:o}),jn.push(()=>uo(n,"value",u)),{c(){ao(n.$$.fragment),r=st()},m(a,c){Zr(n,a,c),mt(a,r,c),i=!0},p(a,c){const f={};c&2&&(f.labels=a[1].map(Lr).slice(3)),c&2&&(f.counts=a[1].map(Or).slice(3)),!e&&c&1&&(e=!0,f.value=a[0],no(()=>e=!1)),n.$set(f)},i(a){i||(Ut(n.$$.fragment,a),i=!0)},o(a){re(n.$$.fragment,a),i=!1},d(a){Br(n,a),a&&pt(r)}}}function ss(t){let n,e,r,i,u,o,a,c,f,l,s,h,p,d=[0,1,2,3,4],m=[];for(let w=0;w<5;w+=1)m[w]=Fr(Tr(t,d,w));let g=t[1]&&Ir(t);return{c(){n=U("main"),e=U("h2"),e.textContent="Náboženství v Česku",r=st(),i=U("p"),i.textContent="data ze sčítání lidu 2021",u=st(),o=U("div");for(let w=0;w<5;w+=1)m[w].c();a=st(),c=Yi("svg"),f=st(),l=U("div"),g&&g.c(),s=st(),h=U("div"),tt(o,"id","color-scale-legend"),tt(c,"width","960"),tt(c,"height","600"),V(l,"text-align","left"),tt(h,"id","tooltip"),V(h,"position","absolute"),V(h,"display","none"),V(h,"background-color","rgba(0, 0, 0, 0.7)"),V(h,"padding","5px"),V(h,"border-radius","5px"),V(h,"pointer-events","none")},m(w,y){mt(w,n,y),F(n,e),F(n,r),F(n,i),F(n,u),F(n,o);for(let _=0;_<5;_+=1)m[_]&&m[_].m(o,null);F(n,a),F(n,c),F(n,f),F(n,l),g&&g.m(l,null),F(n,s),F(n,h),p=!0},p(w,[y]){if(y&12){d=[0,1,2,3,4];let _;for(_=0;_<5;_+=1){const b=Tr(w,d,_);m[_]?m[_].p(b,y):(m[_]=Fr(b),m[_].c(),m[_].m(o,null))}for(;_<5;_+=1)m[_].d(1)}w[1]?g?(g.p(w,y),y&2&&Ut(g,1)):(g=Ir(w),g.c(),Ut(g,1),g.m(l,null)):g&&(io(),re(g,1,1,()=>{g=null}),oo())},i(w){p||(Ut(g),p=!0)},o(w){re(g),p=!1},d(w){w&&pt(n),Xr(m,w),g&&g.d()}}}async function cs(){return await(await fetch("census-2021.json")).json()}function hs(t){return{CZ020:"Středočeský",CZ031:"Jihočeský",CZ032:"Plzeňský",CZ041:"Karlovarský",CZ042:"Ústecký",CZ051:"Liberecký",CZ052:"Královéhradecký",CZ053:"Pardubický",CZ063:"Vysočina",CZ064:"Jihomoravský",CZ071:"Olomoucký",CZ072:"Zlínský",CZ080:"Moravskoslezský",CZ010:"Hlavní město Praha"}[t]}const Lr=t=>t.Field,Or=t=>t["Česká republika"];function ps(t,n,e){let r=["Českobratrská církev evangelická","protestantská/evangelická víra (protestant, evangelík)","Církev bratrská","Slezská církev evangelická augsburského vyznání","Apoštolská církev","Bratrská jednota baptistů","Církev Křesťanská společenství","Jednota bratrská","Křesťanské sbory","Evangelická církev metodistická","Církev víry","Církev Slovo života","Církev živého Boha","Církev Nová naděje","Církev Oáza"],i,u,o,a,c,f=0;async function l(){e(1,i=await cs()),u=i[0]}function s(d){e(3,f=oe(d.features,g=>g.properties.percentage)),xo(d.features,g=>g.properties.percentage);const m=1;e(2,c=Zi().domain([0,f]).interpolator(is)),o.selectAll("path").remove(),o.selectAll("path").data(d.features).enter().append("path").attr("d",a).attr("fill",g=>c(g.properties.percentage*m)).on("mouseover",(g,w)=>{kt("#tooltip").style("display","block").html(`
                  Kraj: ${w.properties.NAZ_CZNUTS3.replace(" kraj","")}<br>
                  Počet: ${w.properties.value.toFixed(0)}<br>
                  Procent: ${w.properties.percentage.toFixed(2)}%`);const y=dt(c(w.properties.percentage*m));y.opacity=.7,kt(g.currentTarget).attr("fill",y)}).on("mousemove",g=>{kt("#tooltip").style("left",g.pageX+10+"px").style("top",g.pageY-25+"px")}).on("mouseout",(g,w)=>{kt("#tooltip").style("display","none"),kt(g.currentTarget).attr("fill",()=>c(w.properties.percentage*m))})}async function h(d){let m=i.filter(w=>d.includes(w.Field));const g={};m.forEach(w=>{Object.keys(w).forEach(y=>{if(y==="Field")return;let _=Number(w[y]);(_===void 0||Number.isNaN(_))&&(_=0),g[y]=(g[y]||0)+_})}),Uf("kraje.json").then(w=>{const y=fs(w,w.objects.kraje);y.features.forEach(_=>{const b=hs(_.properties.id);_.properties.value=g[b],_.properties.percentage=g[b]/Number(u[b])*100}),s(y)})}Qi(async()=>{await l();const d=Kl().center([15.3,49.8]).scale(7e3).translate([480,300]);a=Ll().projection(d),o=kt("svg")});function p(d){r=d,e(0,r)}return t.$$.update=()=>{t.$$.dirty&3&&r&&i&&h(r)},[r,i,c,f,p]}class ds extends Vr{constructor(n){super(),Yr(this,n,ps,ss,Dr,{})}}new ds({target:document.getElementById("app")});
